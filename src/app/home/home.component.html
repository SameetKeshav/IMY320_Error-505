<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
/>

<div *ngIf="loggedIn" class="container">
  <div class="menu">
    <div class="headerstuff">
      <div class="title" (click)="isactivityStream()" style="cursor: pointer">
        <img
          src="assets/logo.png"
          style="object-fit: cover"
          width="50px"
          height="50px"
        />
        <h1>OmniHub</h1>
      </div>
      <div class="search">
        <input
          style="margin-top: 3px"
          type="text"
          class="input"
          [(ngModel)]="searchText"
          placeholder="Search for a module..."
          (input)="search()"
          (click)="searchAll()"
        />
        <div class="searchIcon">
          <i
            class="fa fa-search"
            aria-hidden="true"
            style="font-size: 20px; margin-left: 10px"
            *ngIf="showModules"
          ></i>
          <i
            style="font-size: 20px; margin-left: 10px"
            class="fas fa-times"
            (click)="searchClose()"
            *ngIf="!showModules"
          ></i>
        </div>
      </div>
    </div>
    <div
      *ngIf="showModules"
      style="overflow-y: auto; height: 100%; width: 100%; padding-bottom: 20px"
    >
      <div
        style="
          width: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <div class="module" *ngFor="let module of modules; let i = index">
          <div
            class="moduleName"
            (click)="openModule(module)"
            (click)="SeeModule(i)"
          >
            <b style="cursor: pointer">{{ module }}</b>
          </div>
          <div class="moduleIcons">
            <button class="newHover">
              <i
                *ngIf="!seenModules[i] && i != 1"
                class="fa fa-bell"
                aria-hidden="true"
                style="color: #c34ffd"
              ></i>
              <i *ngIf="i == 1" class="fa fa-bell" aria-hidden="true"></i>
              <i
                *ngIf="i != 1 && seenModules[i]"
                class="fa fa-bell"
                aria-hidden="true"
              ></i>
            </button>

            <button class="updateHover">
              <i
                *ngIf="!seenModules[i] && i == 1"
                class="fa fa-graduation-cap"
                aria-hidden="true"
                style="color: #c34ffd"
              ></i>
              <i
                *ngIf="seenModules[i] && i == 1"
                class="fa fa-graduation-cap"
                aria-hidden="true"
              ></i>
              <i
                *ngIf="i != 1"
                class="fa fa-graduation-cap"
                aria-hidden="true"
              ></i>
            </button>

            <button class="removeHover" (click)="remove(module)">
              <i class="fa fa-minus-circle" aria-hidden="true"></i>
            </button>
            <!-- 
        <button class="removeBtn">Remove</button>
        <button class="updateBtn">Tutor Updates</button>
        <button class="newBtn">New Chatrooms</button> -->
          </div>
        </div>
      </div>
    </div>
    <div
      style="
        width: 100%;
        height: 100px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      "
    >
      <i
        style="margin-left: 20px; font-size: 30px; color: rgb(59, 59, 59)"
        class="fas fa-sign-out-alt"
        (click)="loggedIn = false"
      ></i>
      <i
        style="margin-right: 20px; font-size: 30px; color: rgb(59, 59, 59)"
        class="fas fa-info-circle"
      (click)="showAbout()"></i>
    </div>

    <!-- <div
      *ngIf="!showModules"
      style="
        width: 90%;
        margin-top: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #d5e2ff;
      "
    >
      <div *ngFor="let module of options" class="OptionalModule">
        <div class="OptionName">{{ module }}<br />Semester 2</div>
        <div class="add" (click)="add(module)">
          <i class="fa fa-plus-square" aria-hidden="true"></i>
        </div>
      </div>
    </div> -->

    <div *ngIf="!showModules" class="scrollable-list">
      <ul class="options-list">
        <li *ngFor="let module of options" class="OptionalModule">
          <span class="optionName"
            >{{ module }}<br />
            Semester 2</span
          >
          <div class="add" (click)="add(module)">
            <i class="fa fa-plus-square" aria-hidden="true"></i>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <div class="content">
    <div class="headings">
      <div class="Options">
        <div class="Option" (click)="isactivityStream()">
          <i
            (click)="isactivityStream()"
            *ngIf="!activityStream"
            class="fa fa-clock"
            aria-hidden="true"
          ></i>
          <label (click)="isactivityStream()" *ngIf="!activityStream"
            >Activity Stream</label
          >
          <i
            *ngIf="activityStream"
            class="fa fa-clock"
            aria-hidden="true"
            style="color: #0572c0"
          ></i>
          <label *ngIf="activityStream" style="color: #0572c0"
            >Activity Stream</label
          >
        </div>
        <div class="Option" (click)="ismyChats()">
          <i
            (click)="ismyChats()"
            *ngIf="!myChats"
            class="fa fa-comment"
            aria-hidden="true"
          ></i>
          <label (click)="ismyChats()" *ngIf="!myChats">My Chats</label>
          <i
            *ngIf="myChats"
            class="fa fa-comment"
            aria-hidden="true"
            style="color: #0572c0"
          ></i>
          <label *ngIf="myChats" style="color: #0572c0">My Chats</label>
        </div>
        <div class="Option" (click)="ismySchedule()">
          <i
            (click)="ismySchedule()"
            *ngIf="!mySchedule"
            class="fa fa-calendar"
            aria-hidden="true"
          ></i>
          <label (click)="ismySchedule()" *ngIf="!mySchedule"
            >My Schedule</label
          >
          <i
            *ngIf="mySchedule"
            class="fa fa-calendar"
            aria-hidden="true"
            style="color: #0572c0"
          ></i>
          <label *ngIf="mySchedule" style="color: #0572c0">My Schedule</label>
        </div>
      </div>
    </div>

    <div *ngIf="activityStream" class="TopicTitle"><b>Activity Stream</b></div>

    <div *ngIf="myChats" class="TopicTitle"><b>Chats</b></div>

    <div class="scheduleContainerTheBigOne" *ngIf="mySchedule">
      <div class="TopicTitle scheduleBorder"><b>Schedule</b></div>
    </div>

    <div class="scrollable" (click)="setButtonOpacityToZero()">
      <div *ngIf="activityStream" class="Activity_container">
        <div *ngFor="let day of activityData; let i = index">
          <div class="recordDay">
            <div class="icon"></div>
            <div class="border"></div>
            <div class="dayText" *ngIf="i === 0">
              Today, {{ day.date }}
              <div class="border2"></div>
            </div>
            <div class="dayText" *ngIf="i !== 0">
              {{ day.date }}
              <div class="border2"></div>
            </div>
          </div>
          <div
            *ngFor="let note of day.message; let k = index"
            class="record"
            (click)="notificationClick(day.route[k], day.url[k])"
          >
            <div class="icon">
              <div *ngIf="day.category[k] == 'notification'">
                <i class="fa fa-bell" aria-hidden="true"></i>
              </div>
              <div *ngIf="day.category[k] == 'message'">
                <i class="fa fa-comments" aria-hidden="true"></i>
              </div>
              <div
                *ngIf="
                  day.category[k] == 'tutor' || day.category[k] == 'material'
                "
              >
                <i class="fa fa-graduation-cap" aria-hidden="true"></i>
              </div>
              <div *ngIf="day.category[k] == 'job'">
                <i class="fa fa-briefcase" aria-hidden="true"></i>
              </div>
            </div>
            <div class="border"></div>
            <div class="recordText">
              <b>{{ day.name[k] }}</b> {{ note }} <br />
              <label>{{ day.time[k] }}</label>
            </div>
          </div>
        </div>
        <div style="height: 50px"></div>
      </div>
      <div *ngIf="myChats" class="Chat_container">
        <div *ngFor="let chat of chatList">
          <div class="chat" (click)="openClass(chat.name, chat.profilePicture)">
            <div class="profile">
              <img src="{{ chat.profilePicture }}" class="img" />
            </div>
            <div class="details">
              <div style="font-size: 16px; padding: 5px">
                <b>{{ chat.name }}</b>
              </div>
              <div style="font-size: 15px; padding: 5px">
                {{ chat.message }}
              </div>
            </div>
          </div>
          <div class="border4"></div>
        </div>
      </div>

      <div *ngIf="mySchedule" class="Schedule_container">
        <div class="days">
          <Label>Monday</Label>
          <Label>Tuesday</Label>
          <Label>Wednesday</Label>
          <Label>Thursday</Label>
          <Label>Friday</Label>
        </div>
        <div class="Calander">
          <div class="Day">
            <div *ngFor="let class of monday" class="weekday">
              <div class="class" *ngIf="class.module !== undefined">
                <div class="scheduleContainer">
                  <div class="scheduleInner">
                    <div class="scheduleClassName">{{ class.module }}</div>
                    <div class="scheduleClassTitle">{{ class.type }}</div>
                    <div class="scheduleClassLocation">{{ class.venue }}</div>
                    <div class="scheduleClassStartTime">
                      {{ class.startTime }}
                    </div>
                    <div class="scheduleClassEndTime">{{ class.endTime }}</div>
                    <div class="scheduleLine"></div>
                  </div>
                </div>
              </div>
              <div class="noclass" *ngIf="class.module === undefined"></div>
            </div>
          </div>
          <div class="Day">
            <div *ngFor="let class of tuesday" class="weekday">
              <div class="class" *ngIf="class.module !== undefined">
                <div class="scheduleContainer">
                  <div class="scheduleInner">
                    <div class="scheduleClassName">{{ class.module }}</div>
                    <div class="scheduleClassTitle">{{ class.type }}</div>
                    <div class="scheduleClassLocation">{{ class.venue }}</div>
                    <div class="scheduleClassStartTime">
                      {{ class.startTime }}
                    </div>
                    <div class="scheduleClassEndTime">{{ class.endTime }}</div>
                    <div class="scheduleLine"></div>
                  </div>
                </div>
              </div>
              <div class="noclass" *ngIf="class.module === undefined"></div>
            </div>
          </div>
          <div class="Day">
            <div *ngFor="let class of wednesday" class="weekday">
              <div class="class" *ngIf="class.module !== undefined">
                <div class="scheduleContainer">
                  <div class="scheduleInner">
                    <div class="scheduleClassName">{{ class.module }}</div>
                    <div class="scheduleClassTitle">{{ class.type }}</div>
                    <div class="scheduleClassLocation">{{ class.venue }}</div>
                    <div class="scheduleClassStartTime">
                      {{ class.startTime }}
                    </div>
                    <div class="scheduleClassEndTime">{{ class.endTime }}</div>
                    <div class="scheduleLine"></div>
                  </div>
                </div>
              </div>
              <div class="noclass" *ngIf="class.module === undefined"></div>
            </div>
          </div>
          <div class="Day">
            <div *ngFor="let class of thursday" class="weekday">
              <div class="class" *ngIf="class.module !== undefined">
                <div class="scheduleContainer">
                  <div class="scheduleInner">
                    <div class="scheduleClassName">{{ class.module }}</div>
                    <div class="scheduleClassTitle">{{ class.type }}</div>
                    <div class="scheduleClassLocation">{{ class.venue }}</div>
                    <div class="scheduleClassStartTime">
                      {{ class.startTime }}
                    </div>
                    <div class="scheduleClassEndTime">{{ class.endTime }}</div>
                    <div class="scheduleLine"></div>
                  </div>
                </div>
              </div>
              <div class="noclass" *ngIf="class.module === undefined"></div>
            </div>
          </div>
          <div class="Day" style="border-right: none">
            <div *ngFor="let class of friday" class="weekday">
              <div class="class" *ngIf="class.module !== undefined">
                <div class="scheduleContainer">
                  <div class="scheduleInner">
                    <div class="scheduleClassName">{{ class.module }}</div>
                    <div class="scheduleClassTitle">{{ class.type }}</div>
                    <div class="scheduleClassLocation">{{ class.venue }}</div>
                    <div class="scheduleClassStartTime">
                      {{ class.startTime }}
                    </div>
                    <div class="scheduleClassEndTime">{{ class.endTime }}</div>
                    <div class="scheduleLine"></div>
                  </div>
                </div>
              </div>
              <div class="noclass" *ngIf="class.module === undefined"></div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="about" style="width: 100%; font-size: 40px; text-align: center; margin: 0px 0px 15px 0px; font-weight: 700; color:#004d85">
        ERROR 505
      </div>
      <div *ngIf="about" class="aboutPage">
        
        <div class="image-grid">
          <div class="image-container">
            <img
              src="https://avatars.githubusercontent.com/u/104779369?v=4"
              alt="Image 1"
            />
            <div class="imageAlt">
              <div style="margin-top: 35%;">Julianna Venter </div>
              <a
                href="https://www.linkedin.com/in/julianna-venter-3b4841232/"
                target="_blank"
                class="linkedin-link"
              >
                <i class="fab fa-linkedin"></i>
              </a>
            </div>
          </div>

          <div class="image-container">
            <img
              src="https://user-images.githubusercontent.com/126817281/236040993-d213e57b-6ae3-4b3e-9c6a-72b8dc3f8d2b.jpg"
              alt="Image 1"
            />
            <div class="imageAlt">
              <div style="margin-top: 35%;">Morgan Bentley </div>
              <a
                href="https://www.linkedin.com/mwlite/in/morgan-bentley-0bb21a149/"
                target="_blank"
                class="linkedin-link"
              >
                <i class="fab fa-linkedin"></i>
              </a>
            </div>
          </div>

          <div class="image-container">
            <img
              src="https://user-images.githubusercontent.com/89075980/239496127-9cf0de27-e5cd-4828-b9e8-39df0b4a41c3.jpeg"
              alt="Image 1"
            />
            <div class="imageAlt">
              <div style="margin-top: 35%;">Ronin Brookes  </div>
              <a
                href="https://www.linkedin.com/in/ronin-brookes/"
                target="_blank"
                class="linkedin-link"
              >
                <i class="fab fa-linkedin"></i>
              </a>
            </div>
          </div>

          <div class="image-container">
            <img
              src="https://user-images.githubusercontent.com/105606137/236011909-a6deb24d-d46b-4ae1-8157-3dd9484e1b3c.jpeg"
              alt="Image 1"
            />
            <div class="imageAlt">
              <div style="margin-top: 35%;">Sameet Keshav </div>
              <a
                href="https://user-images.githubusercontent.com/105606137/236011909-a6deb24d-d46b-4ae1-8157-3dd9484e1b3c.jpeg"
                target="_blank"
                class="linkedin-link"
              >
                <i class="fab fa-linkedin"></i>
              </a>
            </div>
          </div>

          <div class="image-container">
            <img
              src="https://user-images.githubusercontent.com/98401898/234882981-8ba00dc3-a1c9-405e-8632-d45fa3254c07.png"
              alt="Image 1"
            />
            <div class="imageAlt">
              <div style="margin-top: 35%;">Thapelo Thoka  </div>
              <a
                href="https://www.linkedin.com/in/thapelo-thoka-231b43231/"
                target="_blank"
                class="linkedin-link"
              >
                <i class="fab fa-linkedin"></i>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- ==========================================module page====================================== -->

      <div class="modulePage" *ngIf="modulePage">
        <div class="roomHeader" *ngIf="chatRoom">
          <div class="headerInfoContainer">
            <div class="fileContainer">
              <i
                style="
                  font-size: 40px;
                  color: #11507e;
                  cursor: pointer;
                  margin-top: 5px;
                "
                class="fas fa-file-alt roomFileIcon"
              ></i>
              <div class="roomtext">
                <div class="roomTitle">{{ chatrooms[roomId].name }}</div>
                <div class="roomFilename">{{ chatrooms[roomId].filename }}</div>
              </div>
            </div>
            <div class="loadIconsContainer">
              <i class="fas fa-download loadBtns1" (click)="download()"></i>
              <!-- <i class="fas fa-upload loadBtns"></i> -->
            </div>
          </div>
          <div class="headerline"></div>
        </div>
        <div class="messages" *ngIf="chatRoom">
          <div class="messagesContainer">
            <div *ngFor="let chat of moduleChat.messages[roomId]">
              <div class="messageContainer2" *ngIf="!showJob && !showMaterial">
                <div>
                  <div class="messageImg">
                    <img
                      class="userImg"
                      src="{{ chat.profilePicture }}"
                      (click)="openClass(chat.from, chat.profilePicture)"
                    />
                  </div>

                  <div
                    style="cursor: pointer"
                    class="messageName"
                    (click)="openClass(chat.from, chat.profilePicture)"
                  >
                    {{ chat.from }}
                  </div>
                  <div class="messageText">
                    {{ chat.message }}
                  </div>
                  <div class="messageTime">{{ chat.date }}</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- message bar -->

        <div class="messageBar" *ngIf="chatRoom">
          <div class="messageBarInner"></div>
          <div class="messageIcons">
            <div class="messageIconInner"></div>
            <div class="messageIconContainer">
              <div class="messageIcon">
                <i
                  class="fas fa-paper-plane"
                  style="width: 16.62px; height: 16.62px"
                  (click)="sendModuleMessage()"
                ></i>
              </div>
            </div>
          </div>
          <input
            (keyup.enter)="sendModuleMessage()"
            id="moduleMessage"
            type="text"
            class="messageInputText"
            placeholder="Message..."
          />
        </div>

        <!-- module chat rooms -->
        <!-- <button (click)="showPopup = true">Open Popup</button> -->

        <div class="chatroomspage">
          <div class="roomHeader" *ngIf="roomsPage">
            <div class="headerInfoContainerOpen">
              <div class="roomTitleOpen">
                <b>{{ moduleName }}</b>
              </div>
              <div class="fileContainer Open" (click)="showPopup = true">
                <div class="roomTitleOpen2">
                  Open Discussion Room
                  <i
                    class="fas fa-plus-circle"
                    style="
                      width: 25px;
                      height: 25px;
                      font-size: 24px;
                      margin-left: 10px;
                    "
                  ></i>
                </div>
              </div>
            </div>
            <div class="headerlineOpen"></div>
          </div>
          <div class="chatroomContainer" *ngIf="roomsPage">
            <div class="popup" *ngIf="showPopup">
              <div class="popup-content">
                <h2>
                  Discussion Room <br />
                  Information
                </h2>
                <div class="inputData">
                  <input
                    class="custom-input"
                    type="text"
                    placeholder="Room Name"
                    id="roomName"
                  />
                  <input
                    class="custom-input"
                    type="text"
                    placeholder="Room Description"
                    id="roomDescription"
                  />

                  <div class="file-input-container">
                    <input
                      type="file"
                      id="fileInput"
                      (change)="onFileSelected($event)"
                    />
                    <label for="fileInput" class="file-input-label">
                      <i class="fa fa-upload" style="margin-right: 8px"></i>
                      Upload File
                    </label>
                    <div class="selected-file-name">{{ selectedFileName }}</div>
                  </div>

                  <label>
                    <input
                      type="radio"
                      name="memo"
                      value="true"
                      [(ngModel)]="hasMemo"
                    />
                    Memo Included
                  </label>
                  <div>
                    <button
                      style="margin-right: 20px"
                      class="closeBtn"
                      (click)="showPopup = false"
                    >
                      Close
                    </button>
                    <button class="closeBtn1" (click)="onSubmit()">
                      Submit
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div *ngFor="let moduleRoom of chatrooms">
              <div class="modulechatroom" (click)="openChatRoom(moduleRoom.id)">
                <div class="scheduleContainerModule">
                  <div class="scheduleInnerModule">
                    <div class="scheduleClassNameModule">
                      {{ moduleRoom.name }}
                    </div>
                    <!-- <div class="scheduleClassLocationModule">{{moduleRoom.description}}</div> -->
                    <i
                      style="
                        font-size: 26px;
                        color: #11507e;
                        cursor: pointer;
                        margin-top: 5px;
                      "
                      class="fas fa-file-alt fileIcon"
                    ></i>
                    <button *ngIf="moduleRoom.memo" class="scheduleLineModule">
                      Memo
                    </button>
                  </div>
                  <div class="scheduleInnerModuleDesc">
                    <div class="scheduleClassNameModuleDesc">
                      {{ moduleRoom.description }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- user bar -->

        <div class="usersContainer">
          <div class="usersContainerStyles">
            <div class="usersContainerInner">
              
              <div class="tutorheader">
                <span>Tutors</span>
                <i class="fas fa-graduation-cap" style="font-size: 20px"></i>
              </div>

              <ul style="padding-left: 20px">
                <li style="display:flex; gap: 10px; align-items: left; margin-bottom: 20px;">
                  <img
                    class="tutorImg"
                    (click)="openTutor(chatList[0].name, chatList[0].profilePicture)"
                    src="{{ chatList[0].profilePicture }}"
                  />
                  <div
                    class="tutorName"
                    (click)="openTutor(chatList[0].name, chatList[0].profilePicture)"
                  >
                    {{ chatList[0].name }}
                  </div>
                </li>
                <li style="display:flex; gap: 10px; align-items: left;">
                  <img
                    class="tutorImg"
                    (click)="openTutor(chatList[12].name, chatList[12].profilePicture)"
                    src="{{ chatList[12].profilePicture }}"
                  />
                  <div
                    class="tutorName"
                    (click)="openTutor(chatList[12].name, chatList[12].profilePicture)"
                  >
                    {{ chatList[12].name }}
                  </div>
                </li>
              </ul>

              <div class="tutorheader">
                <span>Classmates</span>
              </div>

              <ul style="padding-left: 20px" *ngFor="let chat of chatList.slice(1, 12)">
                <li style="display:flex; gap: 10px; align-items: left; margin-bottom: 20px;">
                  <img
                    class="tutorImg"
                    (click)="openClass(chat.name, chat.profilePicture)"
                    src="{{ chat.profilePicture }}"
                  />
                  <div
                    class="tutorName"
                    (click)="openClass(chat.name, chat.profilePicture)"
                  >
                    {{ chat.name }}
                  </div>
                </li>
              </ul>

              <div style="height: 20px"></div>

            </div>
          </div>
        </div>
      </div>

      <!-- =================================================tutor chat page====================================== -->

      <div class="tutorPage" style="display: flex" *ngIf="tutorPage">
        <div class="requestContainer" *ngIf="request">
          <div class="requestBack">
            <div class="requestTitle">Request Tutor?</div>
            <div class="requestText">
              Name: James Payne<br />Module: COS 330
            </div>

            <div class="requestInput">
              <textarea
                type="text"
                class="requestTextInput"
                placeholder="{{ tutorChat.request.description }}"
                id="requestMessage"
              ></textarea>
            </div>

            <button class="requestCancelBtn" (click)="requestChange()">
              Cancel
            </button>

            <button class="requestAcceptBtn" (click)="requestChange(); makeRequest()">
              Request
            </button>
          </div>
        </div>

        <!-- //chat stuff -->
        <div class="roomHeader" *ngIf="!request">
          <div class="headerInfoContainer">
            <div class="fileContainerTutor">
              <div class="roomTitle">{{ tutorName }}</div>
              <button class="requestBtn" (click)="toggleRequest()">
                Make Request
              </button>
            </div>
          </div>
          <div class="headerline"></div>
        </div>
        <!-- app.component.html -->

        <div class="messagesDM" *ngIf="!request">
          <div class="messagesContainer">
            <div class="messageContainerRequest">
              <div class="myMessageImg">
                <img
                  class="myUserImg"
                  src="{{ tutorChat.request.profilePicture }}"
                />
              </div>
              <div class="myMessageName">{{ username }}</div>

              <div class="requestNoti">
                <div class="requestNotiInner">
                  <div class="requestNotiTitle">Request Made:</div>
                  <div class="requestNotiModule">COS 330</div>
                  <div class="requestNotiText">
                    {{ tutorChat.request.description }}
                  </div>
                </div>
              </div>

              <div class="myMessageTime" style="margin-top: 3px">
                {{ tutorChat.request.date }}
              </div>
            </div>
            <div *ngFor="let chat of tutorChat.messages">
              <div
                class="messageContainer2"
                *ngIf="chat.from !== 'Julianna Venter'"
              >
                <div class="messageImg2">
                  <img class="userImg" src="{{ chat.profilePicture }}" />
                </div>

                <div class="messageName2">{{ username }}</div>
                <div class="messageText">
                  {{ chat.message }}
                </div>
                <div class="messageTime">{{ chat.date }}</div>
              </div>

              <div
                class="myMessageContainer2"
                *ngIf="chat.from === 'Julianna Venter' && !chat.isRequest"
              >
                <div class="myMessageImg">
                  <img class="myUserImg" src="{{ chat.profilePicture }}" />
                </div>
                <div class="myMessageName">{{ username }}</div>
                <div class="myMessageText">
                  {{ chat.message }}
                </div>
                <div class="myMessageTime">{{ chat.date }}</div>
              </div>

              <div
                class="messageContainerRequest"
                *ngIf="chat.from === 'Julianna Venter' && chat.isRequest"
              >
                <div class="myMessageImg">
                  <img class="myUserImg" src="{{ chat.profilePicture }}" />
                </div>
                <div class="myMessageName">{{ username }}</div>

                <div class="requestNoti">
                  <div class="requestNotiInner">
                    <div class="requestNotiTitle">Request Made:</div>
                    <div class="requestNotiModule">COS 330</div>
                    <div class="requestNotiText">
                      {{ chat.message }}
                    </div>
                  </div>
                </div>

                <div class="myMessageTime" style="margin-top: 3px">
                  {{ chat.date }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- message bar -->

        <div class="messageBar">
          <div class="messageBarInner"></div>
          <div class="messageIcons">
            <div class="messageIconInner"></div>
            <div class="messageIconContainer">
              <!-- <div class="messageIcon">
                <i
                  class="fas fa-plus-circle"
                  style="width: 19px; height: 19px; color: #00355c"
                ></i>
              </div> -->
              <div class="messageIcon">
                <i
                  class="fas fa-paper-plane"
                  style="width: 16.62px; height: 16.62px"
                  (click)="sendTutorMessage()"
                ></i>
              </div>
            </div>
          </div>
          <input
            (keyup.enter)="sendTutorMessage()"
            id="tutorMessage"
            type="text"
            class="messageInputText"
            placeholder="Message..."
          />
        </div>
      </div>

      <!-- ========================================classmate chat page====================================== -->

      <div class="tutorPage" *ngIf="classPage">
        <!-- //chat stuff -->
        <div class="roomHeader">
          <div class="headerInfoContainer">
            <div class="fileContainer">
              <div class="roomTitle">{{ className }}</div>
            </div>
          </div>
          <div class="headerline"></div>
        </div>

        <div class="messagesDM">
          <div class="messagesContainer">
            <div *ngFor="let chat of classChat.messages">
              <div
                class="messageContainer2"
                *ngIf="chat.from !== 'Julianna Venter'"
              >
                <div class="messageImg2">
                  <img class="userImg" src="{{ classUrl }}" />
                </div>

                <div class="messageName2">{{ className }}</div>
                <div class="messageText">
                  {{ chat.message }}
                </div>
                <div class="messageTime">{{ chat.date }}</div>
              </div>

              <div
                class="myMessageContainer2"
                *ngIf="chat.from === 'Julianna Venter'"
              >
                <div class="myMessageImg">
                  <img class="myUserImg" src="{{ chat.profilePicture }}" />
                </div>
                <div class="myMessageName">{{ username }}</div>
                <div class="myMessageText">
                  {{ chat.message }}
                </div>
                <div class="myMessageTime">{{ chat.date }}</div>
              </div>
            </div>
          </div>
        </div>
        <!-- message bar -->

        <div class="messageBar">
          <div class="messageBarInner"></div>
          <div class="messageIcons">
            <div class="messageIconInner"></div>
            <div class="messageIconContainer">
              <!-- <div class="messageIcon">
                <i
                  class="fas fa-plus-circle"
                  style="width: 19px; height: 19px; color: #00355c"
                ></i>
              </div> -->
              <div class="messageIcon">
                <i
                  class="fas fa-paper-plane"
                  style="width: 16.62px; height: 16.62px"
                  (click)="sendClassMessage()"
                ></i>
              </div>
            </div>
          </div>
          <input
            (keyup.enter)="sendClassMessage()"
            id="classMessage"
            type="text"
            class="messageInputText"
            placeholder="Message..."
          />
        </div>
      </div>
    </div>
  </div>
</div>

<!-- login and signup -->

<div *ngIf="!loggedIn" class="loginContainer">
  <div *ngIf="!signUp" class="loginBackground">
    <div class="loginHeader">Welcome Back!</div>
    <div class="loginSubHeader">Please enter your details below.</div>

    <div class="loginEmail">Username</div>
    <input class="loginEmailContainer" #usernameInput />

    <div class="loginPass">Password</div>
    <input type="password" class="loginPassContainer" />

    <div class="loginRem">Remember me</div>

    <button class="loginForgot">Forgot Password</button>

    <button
      class="loginBtn"
      (click)="loggedIn = true; getUsername(usernameInput.value)"
    >
      LOGIN
    </button>

    <div class="googleBtn"></div>
    <input
      class="loginCheckbox"
      type="checkbox"
      id="myCheckbox"
      name="myCheckbox"
      value="true"
    />

    <div class="loginSeparator">OR</div>
    <div class="sepLineLeft"></div>
    <div class="sepLineRight"></div>

    <button
      class="googleContainer"
      id="google-signin-button"
      data-onsuccess="onSignIn"
    >
      <img
        class="googleIcon"
        src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1024px-Google_%22G%22_Logo.svg.png"
        alt="Example Image"
      />
      <div
        style="
          vertical-align: middle;
          height: 60px;
          display: flex;
          align-items: center;
        "
      >
        <span>Continue with Google</span>
      </div>
    </button>

    <div class="loginFooter">
      <span class="loginFooterText">New to OMNIHUB? </span
      ><span class="loginSignup" (click)="signUp = true">Sign Up</span>
    </div>
  </div>

  <!-- signup -->

  <div *ngIf="signUp" class="signupBackground">
    <div class="signupHeader">get started</div>
    <div class="signupSubHeader">Please enter your details below.</div>

    <div class="signupNameText">
      <div class="signupName">Full Name</div>
      <div class="signupSurname">Username</div>
    </div>

    <div class="signupNameContainers">
      <input type="text" class="signupNameContainer" />
      <input type="text" #usernameInput class="signupSurnameContainer" />
    </div>

    <div class="signupEmail">Email</div>
    <input class="signupEmailContainer" />

    <div class="signupPass">Password</div>
    <input type="password" class="signupPassContainer" />
    <span class="passTextSignup">Password must be more than 8 characters</span>

    <div class="signupRem">
      I have read and accept the <i class="terms">terms of service</i>
    </div>

    <button
      class="signupBtn"
      (click)="loggedIn = true; getUsername(usernameInput.value)"
    >
      signup
    </button>

    <div class="googleBtn"></div>
    <input
      class="signupCheckbox"
      type="checkbox"
      id="myCheckbox"
      name="myCheckbox"
      value="true"
    />

    <div class="signupSeparator">OR</div>
    <div class="sepLineLeftSignup"></div>
    <div class="sepLineRightSignup"></div>

    <button
      class="googleContainerSignup"
      id="google-signin-button"
      data-onsuccess="onSignIn"
    >
      <img
        class="googleIcon"
        src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1024px-Google_%22G%22_Logo.svg.png"
        alt="Example Image"
      />
      <div
        style="
          vertical-align: middle;
          height: 60px;
          display: flex;
          align-items: center;
        "
      >
        <span>Continue with Google</span>
      </div>
    </button>

    <div class="signupFooter">
      <span class="signupFooterText">Already have an </span
      ><span class="signupSignup" (click)="signUp = false">account</span
      ><span class="signupFooterText"> ?</span>
    </div>
  </div>
</div>
